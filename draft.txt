# Описание проекта
Десктопное приложение для Windows 11, автоматизирующее создание задач в On-Prem Jira для разных команд.
Пользователь вводит суть задачи и выбирает команду. Приложение использует правила конкретной команды (шаблоны, требования к DoD), отправляет запрос в LLM для переписывания текста под эти правила. Если ИИ не хватает данных, он возвращает уточняющие вопросы в UI. Финальный результат: готовый текст задачи, название проекта и параметры для Jira.

# Технологический стек
- Язык: Python 3.11+
- UI Фреймворк: Flet (десктопный режим)
- Взаимодействие с LLM: Прямые API-запросы. Использовать СТРОГО модели от Anthropic (библиотека `anthropic`) и Google (официальное API Gemini). 
- ВАЖНО: Запрещено использовать модели OpenAI и библиотеку `openai`.

# Хранение данных (Персистентность)
- Все пользовательские настройки (API ключи, URL Jira) и JSON-файлы с правилами команд СТРОГО должны сохраняться в изолированной директории пользователя ОС (например, `%APPDATA%\Lyudochka` для Windows).
- Данные не должны храниться в папке установки (Program Files), чтобы они гарантированно переживали обновления приложения и не перезаписывались инсталлятором.

# Архитектура и структура проекта
Проект должен быть строго модульным:
1. `ui/` - компоненты интерфейса Flet (экраны, формы, диалоги).
2. `core/` - бизнес-логика (работа с ИИ, маршрутизация между API Anthropic/Google, промпт-инжиниринг, форматирование под Jira).
3. `data/` - слой работы с локальными файлами (чтение/запись JSON конфигов из AppData).
4. `main.py` - точка входа, инициализация Flet-приложения.

# Правила написания кода
- Строгая типизация: Обязательное использование type hints (аннотаций типов).
- Асинхронность: Все вызовы к API нейросетей должны быть асинхронными (`async def`), чтобы UI Flet не зависал.
- Обработка ошибок: Изящная обработка сетевых проблем с выводом понятных уведомлений пользователю.
- Промпт-инжиниринг: ИИ-модуль должен возвращать структурированные данные (например, JSON), чтобы UI мог отличить готовый текст задачи от встречных уточняющих вопросов.

# Сборка и Дистрибуция
- Приложение всегда поставляется в виде полноценного Windows-инсталлятора (рекомендуется использовать Inno Setup).
- Инсталлятор должен уметь устанавливать приложение с нуля, а также корректно обновлять его поверх старой версии, не затрагивая папку `%APPDATA%` с пользовательскими данными.
- Процесс сборки: код компилируется в исполняемый файл через PyInstaller (`--noconsole`), а затем упаковывается в инсталлятор с помощью конфигурационного скрипта `.iss`.